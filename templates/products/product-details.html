{% extends 'base/base.html' %}
{% load static %}

{% block content %}
    <div class="single-product section">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="left-image">
                        <img src="{{ object.game_image.url }}" alt="" style="aspect-ratio: 1/1; object-fit: cover;">
                    </div>
                </div>
                <div class="col-lg-6 align-self-center">
                    <h4 class="text-white">{{ object.title }}</h4>
                    <span class="price">${{ object.price }}</span>
                    <p>LUGX Gaming Template is based on the latest Bootstrap 5 CSS framework. This template is provided
                        by
                        TemplateMo and it is suitable for your gaming shop ecommerce websites. Feel free to use this for
                        any
                        purpose. Thank you.</p>
                    <form id="qty" action="#">
                        <input type="number" class="form-control" id="1" aria-describedby="quantity" placeholder="1">
                        <button type="submit" class="my-color"><i class="fa fa-shopping-bag"></i> ADD TO CART</button>
                    </form>
                    <ul>
                        <li><span>Game ID:</span> {{ object.game_abbreviation }}</li>
                        <li><span>Genre:</span> {{ object.genre }}
                        </li>
                    </ul>
                </div>
                <div class="col-lg-12">
                    <div class="sep"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="more-info">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="tabs-content">
                        <div class="row">
                            <div class="nav-wrapper ">
                                <ul class="nav nav-tabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active text-white" id="description-tab"
                                                data-bs-toggle="tab"
                                                data-bs-target="#description" type="button" role="tab"
                                                aria-controls="description"
                                                aria-selected="true">Description
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link text-white" id="reviews-tab" data-bs-toggle="tab"
                                                data-bs-target="#reviews"
                                                type="button" role="tab" aria-controls="reviews" aria-selected="false">
                                            Reviews ({{ object.review_set.all|length }})
                                        </button>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="description" role="tabpanel"
                                     aria-labelledby="description-tab">
                                    <p>{{ object.description }}</p>
                                </div>
                                <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                                    <div class="reviews-panel">
                                        {% for review in object.review_set.all %}
                                            <div class="review-item">
                                                <div class="review-header">
                                                    <span class="review-rating">‚≠ê{{ review.rating }}</span>
                                                    <span class="review-author">{{ review.user.profile.full_name }}</span>
                                                </div>
                                                <p class="review-text">{{ review.review_text }}</p>
                                            </div>
                                        {% empty %}
                                            <p class="no-reviews">No reviews yet. Be the first to share your
                                                thoughts!</p>
                                            <a href="{% url 'shop' %}?franchise={{ object.franchise }}"
                                               class="no-review-submit">Submit</a>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}